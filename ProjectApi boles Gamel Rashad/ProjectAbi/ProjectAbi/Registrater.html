<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>

    <link href="Content/bootstrap.min.css" rel="stylesheet" />
</head>
<body style="padding-top:20px">
    <h1>Registration</h1>
    <div class="col-md-6" style="margin-left:20px;margin-right:20px">

        <table class="table table-striped">
            <tbody>
                <tr>
                    <td>
                        <a href="Login.html" class="btn btn-success pull-right">
                            Login
                        </a>
                    </td>
                </tr>
                <tr>
                    <td>UserName</td>
                    <td><input type="text" placeholder="please enter UserName" id="usertext" /></td>

                </tr>
                <tr>
                    <td>
                        Password
                    </td>
                    <td>
                        <input type="password" placeholder="please enter password"  id="passtext"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        ConfirmPassword
                    </td>
                    <td>
                        <input type="password" placeholder="Confirm password" id="confirmpass"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        Email
                    </td>
                    <td>
                        <input type="email" placeholder="please enter the Email" id="emailtext" />
                    </td>
                </tr>
                <tr class="success">
                    <td colspan="2">
                        <input type="button" value="Register" class="btn btn-success" id="buttonRegister" />
                    </td>
                </tr>
            </tbody>
        </table>


        <div class="modal fade" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">


                    <div class="modal-header">
                        <h4 class="modal-title">Success</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>


                    <div class="modal-body">
                        Registration Successfull
                    </div>


                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>
        </div>
        <div class="alert alert-danger collapse " id="ErrorDiv" >
            <a id="linkclose" href="#" class="close" >&times;</a>
            <div id="texterror"></div>

        </div>


    </div>

    <script src="Scripts/jquery-3.0.0.min.js"></script>
    <script src="Scripts/bootstrap.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#linkclose").click(function () {
                $("#ErrorDiv").hide('fade');

            });
            $('#buttonRegister').click(function () {
                $.ajax({
                    url: 'api/account/registration',
                    method: 'post',
                    data: {
                        username: $("#usertext").val(),
                        password: $("#passtext").val(),
                        confirmpassword: $("#confirmpass").val(),
                        email: $("#emailtext").val()
                    },
                    success: function () {
                        $('#myModal').modal('show');
                    },
                    error: function (jqXHR) {
                        $('#texterror').text(jqXHR.responseText);
                        $('ErrorDiv').show('fade');
                    }



                });



               

            });

        });
    </script>

</body>

</html>